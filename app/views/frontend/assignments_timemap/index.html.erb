<%= javascript_include_tag 'protovis-r3.2' %>
<%= javascript_include_tag 'countries.js'%>
<!-- Don't use the javascript_include_tag here
It doesn't seem to work for files located outside of /public/javascripts -->
<script type="text/javascript" src="assignYearData.js"></script>

<%= render :partial => 'frontend/abstract_map_js' %>


<script  type="text/javascript+protovis">
/*test dot */

/* color codes will be
	red: #550000 -- diplomat alone
	orange: #992c00 -- diplomat and support
	blue: #000055 -- consul alone
	green: #005500 -- consul and support
	purple: #550055 -- diplomat and consul (no support staff)
	black: #000000 -- all three
*/

var w = 700,
    h = 3 / 5 * w,
    geo = pv.Geo.scale("hammer").range({x: 0, y: 0}, {x: w, y: h});

var dot = vis.add(pv.Panel)
  .data(assignments);

dot.add(pv.Panel)
	.add(pv.Dot)
		.left(geo.x)
		.top(geo.y)
		.radius(2)
		.title(function(a) a.place)
		.fillStyle("#550055")
		.lineWidth(.05); 

vis.render();

    </script>