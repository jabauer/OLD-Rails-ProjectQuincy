<%= javascript_include_tag 'protovis-r3.2' %>
<%= javascript_include_tag 'countries.js'%>
<!-- Don't use the javascript_include_tag here
It doesn't seem to work for files located outside of /public/javascripts -->
<script type="text/javascript" src="assignYearData.js"></script>

<%= render :partial => 'frontend/abstract_map_js' %>


<script  type="text/javascript+protovis">
/*test dot */

var colors = {
	"diplomatic": "#F2E8C9",
	"consular": "#342140",
	"support staff": "#5B806B",
};

types.forEach(function(x) colors[x.type] = colors[x.title]);


var dot = vis.add(pv.Panel)
  .data(assignments);

dot.add(pv.Panel)
	.add(pv.Dot)
		.left(geo.x)
		.top(geo.y)
		.radius(2.5)
		.title(function(a) a.location)
		.strokeStyle("#5B806B")
		.fillStyle("#5B806B")
		.lineWidth(.05); 

vis.render();

    </script>